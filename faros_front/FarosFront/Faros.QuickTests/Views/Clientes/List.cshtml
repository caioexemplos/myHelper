@model IEnumerable<Faros.QuickTests.Models.Cliente>

@{
    Layout = null;
}

<table class="ui-widget ui-state-default ui-corner-all">
    <thead class="ui-widget-header">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Codigo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Telefone)
            </th>
            <th>
                <button class="ui-state-default ui-corner-all btn-create">
                    <span class="ui-icon ui-icon-plus" />
                </button>
            </th>
        </tr>
    </thead>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Codigo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Telefone)
            </td>
            <td>
                <button class="btn-delete ui-state-default ui-corner-all" data-codigo="@item.Codigo">
                    <span class="ui-icon ui-icon-trash" />
                </button>
                <button class="btn-edit ui-state-default ui-corner-all" data-codigo="@item.Codigo">
                    <span class="ui-icon ui-icon-pencil" />
                </button>
                <button class="btn-details ui-state-default ui-corner-all" data-codigo="@item.Codigo">
                    <span class="ui-icon ui-icon-document" />
                </button>
            </td>
        </tr>
    }
</table>

<!-- Modal -->
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {

        $(".btn-create").click(function () {
            $("#modal").load("/clientes/create").attr("title", "Adicionar Cliente").dialog();
        });

        $(".btn-details").click(function () {
            var codigo = $(this).attr("data-codigo");
            $("modal").load("/clientes/details/" + codigo).attr("title", "Dados de Cliente").dialog();
        });

        $(".btn-edit").click(function () {
            var codigo = $(this).attr("data-codigo");
            $("#modal").load("/clientes/edit/" + codigo).attr("title", "Editar Cliente").dialog();
        });

        $(".btn-delete").click(function () {
            var codigo = $(this).attr("data-codigo");
            $("#modal").load("/clientes/delete/" + codigo).attr("title", "Excluir cliente").dialog();
        });
    });



</script>

